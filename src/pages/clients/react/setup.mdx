# Setup

Most of the samples in this document can be loaded with a single click into codesandbox! You don't have to worry about this section
until you're ready to build Jacdac into your app...

## NPM

Add the [react-jacdac npm package](https://www.npmjs.com/package/react-jacdac) module
to your project

```
npm install --save jacdac-ts react-jacdac
```

or

```
yarn add jacdac-ts react-jacdac
```

## Context

To use the [hooks](/clients/react/hooks/) in this library, you must wrap your top-level component with the `JacdacProvider` which installs the `JacdacContext` in the React tree.

```tsx
import { JacdacProvider } from "react-jacdac"

// wrap your top-level layout tsx with JacdacProvider
const App = () => <JacdacProvider>...</JacdacProvider>
```

Once your provider is ready, you'll be able to use Jacdac anywhere within your React application.

## Hot-reload

If you are using hot-reload in your development cycle, you will want to create a separate file that instantiates the bus
to avoid closing and opening connections on each reload.

```javascript
//---------------
// bus.ts
import { createWebBus } from "jacdac-ts"

export const bus = createWebBus()

//---------------
// index.tsx
import { JacdacProvider } from "react-jacdac"
import { bus } from "./bus"

const App = () => <JacdacProvider bus={bus}>...</JacdacProvider>
```

By default, Jacdac will try to connect via WebUSB, WebSerial and WebBluetooth. However, you can configure these options when calling `createWebBus`.

## Ready for hooks

With the context in place, your React application is ready to use the [Jacdac hooks](/clients/react/hooks/).
