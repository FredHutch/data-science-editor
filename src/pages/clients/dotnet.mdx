---
title: .NET
order: 3
---

# Jacdac for .NET

There are various ways to integrate Jacdac into **.NET** projects,
including on desktop, Raspberry Pi, TinyCLR devices.

-   [.NET for IoT](https://dotnet.microsoft.com/en-us/apps/iot) on Raspberry Pi
-   [.NET 5+](https://dotnet.microsoft.com/en-us/download/dotnet) on desktop
-   [TinyCLR](https://www.ghielectronics.com/tinyclr/) on SITCore devices

More information

-   [NuGet packages](https://www.nuget.org/profiles/Jacdac)
-   [GitHub project](https://github.com/microsoft/jacdac-dotnet)

## Getting started

Let's learn about Jacdac for .NET by creating a couple small projects.

### Developer tools

The first step of a Jacdac project is to create a bus which will handle all the communication and
the management of the service client.
Since the bus communicates with hardware, configuring it may vary **a lot** whether you are on a Raspberry Pi or a desktop computer.

To provide a consistent experience, we recommend using the Jacdac "devtools" at first.
The developer tools rely on the browser WebUSB/WebSerial/WebBluetooth to connect to the hardware devices and uses a local web socket server
to pipe the packets to the your .NET app.

-   Install the [Jacdac.DevTools](https://www.nuget.org/packages/Jacdac.DevTools/) tool from nuget

```
dotnet tool install -g jacdac.devtools
```

-   launch the devtools server (and keep it running)

```
jacdac.devtools
```

Once the devtools server is running, you should be able to navigate to the local web server and see a dashboard.
**You do not need any hardware to try this out!**

- open [http://localhost:8081/](http://localhost:8081/)
- use the `WebSocketTransport` from the [Jacdac.NET.Transports.WebSockets](https://www.nuget.org/packages/Jacdac.NET.Transports.WebSockets/) package

### Blinky

Let's build a blinking LED light project, assuming you have a [LED](/services/led) module.

The first step is to start a Jacdac `JDBus` instance using a USB transport. 
You will need nuget packages: [Jacdac.NET](https://www.nuget.org/packages/Jacdac.NET/), 
[Jacdac.NET.Clients](https://www.nuget.org/packages/Jacdac.NET.Clients/) 
and [Jacdac.NET.Transports.WebSockets](https://www.nuget.org/packages/Jacdac.NET.Transports.WebSockets/) NuGet packages.

```cs
using Jacdac;
using Jacdac.Transport.WebSockets;

var bus = new JDBus(WebSocketTransport.Create())
```

Next we create an LED service client (and assign it the `led` role).
The client will allow us to change the color on the LED module.

```cs
using Jacdac.Clients;

var led = new LedClient(bus, "led");
```

The led client needs to detect and bind to a service on the bus, so it is best
to listen for the `Connected` event and start the blinking loop then.

```cs
var led = new LedClient(bus, "led");
// wait for jacdac to find a LED service
led.Connected += (s, e) =>
{
   ...
```

Finally, we create a loop with a couple `sleep` command to
toggle between blue and red while the `led` is connected.

```cs
while (led.IsConnected)
{
    // send red 24-bit RGB color (same as HTML colors!)
    led.SetColor(0xff0000);
    Thread.Sleep(500);
    // send blue
    led.SetColor(0x0000ff);
    Thread.Sleep(500);
}
```

All together, we get:

```cs
using System.Threading;
using Jacdac;
using Jacdac.Transport.WebSockets;
using Jacdac.Clients;

static class Program {
    static void Main() {
        var bus = new JDBus(WebSocketTransport.Create())
        var led = new LedClient(bus, "led");
        // wait for jacdac to find a LED service
        led.Connected += (s, e) =>
        {
            // as long as the led is connected, blink
            while (led.IsConnected)
            {
                // send red 24-bit RGB color (same as HTML colors!)
                led.SetColor(0xff0000);
                Thread.Sleep(500);
                // send blue
                led.SetColor(0x0000ff);
                Thread.Sleep(500);
            }
        };
    }
}
```

## What's next?

-   [Projects](/clients/dotnet/projects/)


### Connecting to hardware

To run Jacdac on a physical device, you will need to use a different transport. This varies per device.

* [JacHAT bridge](/services/bridge), add the [Jacdac.NET.Transports.Spi](https://www.nuget.org/packages/Jacdac.NET.Transports.Spi/) NuGet package

![A JacHAT bridge device](./dotnet/jachat.jpg)

```cs
using Jacdac.Transports.Spi;
...
var bus = new JDBus(SpiTransport.Create());
```
