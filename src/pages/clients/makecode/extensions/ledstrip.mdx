# LED Strip

The LED pixel extension provides methods for working with
a strip of programmable RGB LEDs. 
For module with a fixed, small number of LEDs, see the [LED](/clients/makecode/extensions/led/) service.

## Direct control of pixels

All the pixels on a strip can be set to a color using the `setAll` method:

```blocks
input.onButtonPressed(Button.A, () => {
    modules.ledStrip1.setAll(0x00ff00)
})
input.onButtonPressed(Button.B, () => {
    modules.ledStrip1.setAll(0xff0000)
})
```

The brightness of the strip can be set and retrieved as follows:

```blocks
input.onButtonPressed(Button.A, () => {
    modules.ledStrip1.setBrightness(85)
    let brightness = modules.ledStrip1.brightness()
    basic.showNumber(brightness)
})
```

## Built-in Animations

The MakeCode extension provides support for a set of animations
that can be triggered via the `showAnimation` method:

```blocks
input.onButtonPressed(Button.A, () => {
    modules.ledStrip1.showAnimation(modules.ledPixelAnimations.sparkle, 2000)
})
input.onButtonPressed(Button.B, () => {
    modules.ledStrip1.showAnimation(modules.ledPixelAnimations.firefly, 2000)
})
```

## Commands

The [LED service](/services/ledstrip) has
a small command language that can be used to create your own animations
and effects.

```
function runEncoded(prog: string, args?: number[]) {
    let encoded = jacdac.lightEncode(prog, args)
    modules.ledStrip1.runProgram(encoded)
}

input.onButtonPressed(Button.A, () => {
     runEncoded("rotfwd 1")
     modules.ledStrip1.setPixel(0, 0x00ff00)
})
```

## JM RGB LED Bar v0.1

The [JM RGB LED Bar v0.1](/devices/microsoft/research/jmrgbledbar58v01) module
has one end labelled with a "+" sign. The LED RGB at this end is at index
0 (left end of bar in picture below).  
The LED RGB at the other end of the bar (labelled with "-") is at index 9
(right end of bar in picture below).

![led bar](./ledbar.png)

## JM RGB LED Ring v2.1

The [JM RGB LED Ring v2.1](/devices/microsoft/research/jmrgbledring37v21) module
has eight LEDs. The LED opposite from the edge connector is at index 0 and
indices increase counter-clockwise, as shown below:

![led ring](./ledring.png)

## See Also

-   [service specification](/services/ledpixel/)
