---
title: Clients
order: 3
---

# Clients

A Jacdac application is made of various clients that are be bound to a server exposed by a Jacdac mode. Each client has a role that is assigned by a role manager or the user.

## Let's build a door bell!

Let's illustrate how clients, services and roles work by building a visual door bell:
a button that blinks a LED.

### Launch the devtools

Start a devtools server and open the dashboard at http://localhost:8081/.
We'll be able to create simulated buttons in the dashboard.

```
> jacdac.devtools
```

### Start the Jacdac bus

Let's start by creating a Jacdac bus connected to the [devtools](/clients/dotnet/devtools/).

```cs
using Jacdac;
using Jacdac.Transports.WebSockets;

var bus = new JDBus(WebSocketTransport.Create());
```

Launch your app and go back to the dashboard. You should see a new device, 
mostly empty.

### Let there be a button

We instantiate a `ButtonClient` class by passing the `bus`
and the **role** name. The role name will be also displayed in the 
web dashboard.

```cs
using Jacdac.Clients;
...
var button = new ButtonClient(bus, "btn");
```

For tinkering purposes, we add event handler to the `Down` event 
and display something on the console.

```cs
button.Down += (s,e) => Console.WritLine("down");
```

The `button` client will automatically be bound to a [button service](/services/button/)
once the role manager finds one on the bus. 

Launch your application, go to the dashboard. 
Start a button simulator, as Jacdac binds the `button` role to that simulated service, you will
see the `btn` name show up in the user interface.
You should see the `down` message show up on your console application.

If you have a physical Jacdac button module, you can connect it to the dashboard and use it as well.

### Let there be light

Similarly to the button, we add a `LedClient` and use `SetColor` control it's color.
We change the `Down` handler to show red color (in the same format as hex HTML colors)
and `Up` to turn off the LED.

```cs
var led = new LedClient(bus, "led");
// colors
var red = 0xff0000;
var off = 0x000000;
// show red when down
button.Down += (s,e) => led.SetColor(red);
// show up when up
button.Up += (s,e) => led.SetColor(off);
```

Launch your application and go back to the dashboard. 
Start an LED simulator and see that it gets bound. Test that when you press the button,
the LED goes red and back when the button is released.

## Blink

```cs
var blue = 0x0000ff;
// show switch between red and blue
var counter = 0;
button.Down += (s,e) => led.SetColor(counter++ % 2 == 0 ? red : blue);
```

Launch again your application and see that you get a nice blinking effect of the LED.

That's it your code is ready, you can now deploy to your [Raspberry Pi](/clients/dotnet/raspberry-pi) or other platforms.